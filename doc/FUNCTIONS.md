# AutoTest æ’ä»¶åŠŸèƒ½æ–‡æ¡£

## 1. åŠŸèƒ½æ¦‚è§ˆ

AutoTest æ’ä»¶æä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

| åŠŸèƒ½ | æè¿° | å…¥å£ |
|------|------|------|
| AI å¯¹è¯ | ä¸ AI åŠ©æ‰‹è¿›è¡Œå¯¹è¯äº¤æµ | æ´»åŠ¨æ  AutoTest AI å›¾æ ‡ |
| æ—¥å¿—ç›‘æ§ | æŸ¥çœ‹å’Œä¸‹è½½æœåŠ¡å™¨æ—¥å¿— | èµ„æºç®¡ç†å™¨ - æ—¥å¿—ç›‘æ§ |
| æ–‡ä»¶ä¸Šä¼  | ä¸Šä¼ æ–‡ä»¶å¹¶æ‰§è¡Œå‘½ä»¤ | å‘½ä»¤é¢æ¿ (Ctrl+Shift+P) |

## 2. AI å¯¹è¯åŠŸèƒ½

### 2.1 åŠŸèƒ½è¯´æ˜

AI å¯¹è¯åŠŸèƒ½å…è®¸ç”¨æˆ·ä¸ AI åŠ©æ‰‹è¿›è¡Œè‡ªç„¶è¯­è¨€äº¤äº’ï¼Œæ”¯æŒå¤šç§ AI æä¾›å•†å’Œæ¨¡å‹é€‰æ‹©ã€‚

### 2.2 ä½¿ç”¨æ–¹æ³•

1. ç‚¹å‡» VSCode å·¦ä¾§æ´»åŠ¨æ çš„ AutoTest AI å›¾æ ‡
2. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ¶ˆæ¯
3. æŒ‰ Enter æˆ–ç‚¹å‡»å‘é€æŒ‰é’®
4. ç­‰å¾… AI å“åº”

### 2.3 é…ç½®è¦æ±‚

åœ¨ `.vscode/autotest-config.json` ä¸­é…ç½® AI æœåŠ¡ï¼š

```json
{
  "ai": {
    "provider": "qwen",
    "qwen": {
      "apiKey": "your-qwen-api-key",
      "apiUrl": "https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation",
      "model": "qwen-turbo"
    },
    "openai": {
      "apiKey": "your-openai-api-key",
      "apiUrl": "https://api.openai.com/v1/chat/completions",
      "model": "gpt-3.5-turbo"
    }
  }
}
```

### 2.4 æ”¯æŒçš„ AI æä¾›å•†å’Œæ¨¡å‹

#### QWen (é€šä¹‰åƒé—®)

| æ¨¡å‹ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| qwen-turbo | å¿«é€Ÿå“åº”æ¨¡å‹ | æ—¥å¸¸å¯¹è¯ã€å¿«é€Ÿé—®ç­” |
| qwen-plus | å¢å¼ºæ¨¡å‹ | å¤æ‚ä»»åŠ¡ã€ä»£ç ç”Ÿæˆ |
| qwen-max | æœ€å¼ºæ¨¡å‹ | é«˜è´¨é‡è¾“å‡ºã€å¤æ‚æ¨ç† |
| qwen-max-longcontext | é•¿ä¸Šä¸‹æ–‡æ¨¡å‹ | é•¿æ–‡æ¡£å¤„ç† |

#### OpenAI

| æ¨¡å‹ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| gpt-3.5-turbo | å¿«é€Ÿå“åº”æ¨¡å‹ | æ—¥å¸¸å¯¹è¯ã€å¿«é€Ÿé—®ç­” |
| gpt-3.5-turbo-16k | é•¿ä¸Šä¸‹æ–‡æ¨¡å‹ | ä¸­ç­‰é•¿åº¦æ–‡æ¡£ |
| gpt-4 | é«˜çº§æ¨¡å‹ | å¤æ‚æ¨ç†ã€ä»£ç ç”Ÿæˆ |
| gpt-4-32k | è¶…é•¿ä¸Šä¸‹æ–‡æ¨¡å‹ | é•¿æ–‡æ¡£å¤„ç† |
| gpt-4-turbo | æœ€æ–°æ¨¡å‹ | æœ€æ–°åŠŸèƒ½æ”¯æŒ |

### 2.5 æ¨¡å‹é€‰æ‹©è¯´æ˜

- **é»˜è®¤æ¨¡å‹**: å¦‚æœæœªé…ç½® `model` å­—æ®µï¼Œç³»ç»Ÿå°†ä½¿ç”¨é»˜è®¤æ¨¡å‹
  - QWen é»˜è®¤: `qwen-turbo`
  - OpenAI é»˜è®¤: `gpt-3.5-turbo`
- **è‡ªå®šä¹‰æ¨¡å‹**: åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½® `model` å­—æ®µå³å¯ä½¿ç”¨æŒ‡å®šæ¨¡å‹

### 2.6 ç•Œé¢è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚         ğŸ’¬ å¼€å§‹å¯¹è¯          â”‚  â† æ¬¢è¿æç¤º
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â† ç”¨æˆ·æ¶ˆæ¯
â”‚  â”‚ ä½ å¥½                 â”‚    â”‚    (å³å¯¹é½)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â† AI å“åº”
â”‚  â”‚ ä½ å¥½ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„ â”‚    â”‚    (å·¦å¯¹é½)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¾“å…¥æ¶ˆæ¯...            [â¤] â”‚  â† è¾“å…¥åŒºåŸŸ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. æ—¥å¿—ç›‘æ§åŠŸèƒ½

### 3.1 åŠŸèƒ½è¯´æ˜

æ—¥å¿—ç›‘æ§åŠŸèƒ½å…è®¸ç”¨æˆ·æŸ¥çœ‹è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æ—¥å¿—æ–‡ä»¶åˆ—è¡¨ï¼Œå¹¶ä¸‹è½½åˆ°æœ¬åœ°è¿›è¡Œåˆ†æã€‚

### 3.2 ä½¿ç”¨æ–¹æ³•

1. æ‰“å¼€ VSCode èµ„æºç®¡ç†å™¨
2. æ‰¾åˆ°"æ—¥å¿—ç›‘æ§"é¢æ¿ï¼ˆä½äºæ–‡ä»¶ã€å¤§çº²ã€æ—¶é—´çº¿ä¸‹æ–¹ï¼‰
3. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶åˆ—è¡¨
4. ç‚¹å‡»æ—¥å¿—æ–‡ä»¶è¿›è¡Œä¸‹è½½

### 3.3 é…ç½®è¦æ±‚

```json
{
  "logs": {
    "monitorDirectory": "/var/logs",
    "downloadPath": "./downloads",
    "refreshInterval": 5000
  },
  "server": {
    "host": "192.168.1.100",
    "executeCommand": "http://192.168.1.100:8080/execute"
  }
}
```

### 3.4 æ—¥å¿—åˆ—è¡¨æ˜¾ç¤º

```
æ—¥å¿—ç›‘æ§                    [â†»]
â”œâ”€â”€ app.log        1.2 MB | 2024/1/15 10:30:00
â”œâ”€â”€ error.log      256 KB | 2024/1/15 09:15:00
â”œâ”€â”€ debug.log      3.5 MB | 2024/1/14 18:45:00
â””â”€â”€ access.log     512 KB | 2024/1/15 11:00:00
```

### 3.5 æ“ä½œè¯´æ˜

| æ“ä½œ | è¯´æ˜ |
|------|------|
| ç‚¹å‡»åˆ·æ–°æŒ‰é’® | é‡æ–°è·å–æ—¥å¿—åˆ—è¡¨ |
| ç‚¹å‡»æ—¥å¿—æ–‡ä»¶ | ä¸‹è½½åˆ°æœ¬åœ° |
| æ‚¬åœæŸ¥çœ‹ | æ˜¾ç¤ºå®Œæ•´è·¯å¾„ |

## 4. æ–‡ä»¶ä¸Šä¼ ä¸å‘½ä»¤æ‰§è¡Œ

### 4.1 åŠŸèƒ½è¯´æ˜

ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼Œå¹¶è‡ªåŠ¨æ‰§è¡Œé…ç½®çš„å‘½ä»¤ã€‚

### 4.2 ä½¿ç”¨æ–¹æ³•

1. æŒ‰ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿
2. è¾“å…¥ `AutoTest: ä¸Šä¼ æ–‡ä»¶å¹¶æ‰§è¡Œå‘½ä»¤`
3. é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶
4. ç­‰å¾…ä¸Šä¼ å®Œæˆ
5. å‘½ä»¤è‡ªåŠ¨æ‰§è¡Œï¼Œè¾“å‡ºæ˜¾ç¤ºåœ¨ OutputChannel

### 4.3 é…ç½®è¦æ±‚

```json
{
  "server": {
    "uploadUrl": "http://192.168.1.100:8080/upload"
  },
  "command": {
    "executeCommand": "python run_test.py",
    "filterPatterns": ["\\[error\\]", "\\[fail\\]"],
    "filterMode": "include"
  }
}
```

### 4.4 è¾“å‡ºè¿‡æ»¤

å‘½ä»¤æ‰§è¡Œæ”¯æŒè¾“å‡ºè¿‡æ»¤ï¼š

| è¿‡æ»¤æ¨¡å¼ | è¯´æ˜ |
|----------|------|
| include | åªæ˜¾ç¤ºåŒ¹é…çš„è¡Œ |
| exclude | æ’é™¤åŒ¹é…çš„è¡Œ |

è¿‡æ»¤ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚

### 4.5 æ‰§è¡Œæµç¨‹

```
é€‰æ‹©æ–‡ä»¶
    â”‚
    â–¼
ä¸Šä¼ åˆ° server.uploadUrl
    â”‚
    â–¼
æ‰§è¡Œ command.executeCommand
    â”‚
    â–¼
è¿‡æ»¤è¾“å‡º (å¯é€‰)
    â”‚
    â–¼
æ˜¾ç¤ºåˆ° "autoTest" OutputChannel
```

## 5. é…ç½®æ–‡ä»¶è¯´æ˜

### 5.1 é…ç½®æ–‡ä»¶ä½ç½®

```
{workspace}/.vscode/autotest-config.json
```

### 5.2 å®Œæ•´é…ç½®ç¤ºä¾‹

```json
{
  "server": {
    "host": "192.168.1.100",
    "port": 22,
    "username": "root",
    "password": "",
    "uploadUrl": "http://192.168.1.100:8080/upload",
    "executeCommand": "http://192.168.1.100:8080/execute",
    "logDirectory": "/var/logs",
    "downloadPath": "./downloads"
  },
  "command": {
    "executeCommand": "echo 'Hello World'",
    "filterPatterns": [],
    "filterMode": "include"
  },
  "ai": {
    "provider": "qwen",
    "qwen": {
      "apiKey": "your-qwen-api-key",
      "apiUrl": "https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation",
      "model": "qwen-turbo"
    },
    "openai": {
      "apiKey": "your-openai-api-key",
      "apiUrl": "https://api.openai.com/v1/chat/completions",
      "model": "gpt-3.5-turbo"
    }
  },
  "logs": {
    "monitorDirectory": "/var/logs",
    "downloadPath": "./downloads",
    "refreshInterval": 5000
  }
}
```

### 5.3 é…ç½®é¡¹è¯´æ˜

#### server é…ç½®

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| host | string | æœåŠ¡å™¨åœ°å€ |
| port | number | SSH ç«¯å£ |
| username | string | ç”¨æˆ·å |
| password | string | å¯†ç  |
| uploadUrl | string | æ–‡ä»¶ä¸Šä¼  URL |
| executeCommand | string | å‘½ä»¤æ‰§è¡Œ API |
| logDirectory | string | æ—¥å¿—ç›®å½• |
| downloadPath | string | ä¸‹è½½è·¯å¾„ |

#### command é…ç½®

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| executeCommand | string | è¦æ‰§è¡Œçš„å‘½ä»¤ |
| filterPatterns | string[] | è¿‡æ»¤æ­£åˆ™è¡¨è¾¾å¼æ•°ç»„ |
| filterMode | string | è¿‡æ»¤æ¨¡å¼: include/exclude |

#### ai é…ç½®

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| provider | string | AI æä¾›å•†: qwen/openai |
| qwen.apiKey | string | QWen API Key |
| qwen.apiUrl | string | QWen API URL |
| qwen.model | string | QWen æ¨¡å‹åç§° (é»˜è®¤: qwen-turbo) |
| openai.apiKey | string | OpenAI API Key |
| openai.apiUrl | string | OpenAI API URL |
| openai.model | string | OpenAI æ¨¡å‹åç§° (é»˜è®¤: gpt-3.5-turbo) |

#### logs é…ç½®

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| monitorDirectory | string | ç›‘æ§çš„æ—¥å¿—ç›®å½• |
| downloadPath | string | æœ¬åœ°ä¸‹è½½è·¯å¾„ |
| refreshInterval | number | åˆ·æ–°é—´éš”(æ¯«ç§’) |

## 6. å¿«æ·é”®

| æ“ä½œ | å¿«æ·é”® |
|------|--------|
| æ‰“å¼€å‘½ä»¤é¢æ¿ | Ctrl+Shift+P |
| å‘é€æ¶ˆæ¯ | Enter |

## 7. æ•…éšœæ’é™¤

### 7.1 AI å¯¹è¯æ— å“åº”

- æ£€æŸ¥ API Key æ˜¯å¦é…ç½®
- æ£€æŸ¥æ¨¡å‹åç§°æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æŸ¥çœ‹ VSCode å¼€å‘è€…æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### 7.2 æ—¥å¿—åˆ—è¡¨ä¸ºç©º

- æ£€æŸ¥æœåŠ¡å™¨è¿æ¥é…ç½®
- æ£€æŸ¥æ—¥å¿—ç›®å½•æ˜¯å¦å­˜åœ¨
- æ£€æŸ¥ API ç«¯ç‚¹æ˜¯å¦å¯ç”¨

### 7.3 æ–‡ä»¶ä¸Šä¼ å¤±è´¥

- æ£€æŸ¥ uploadUrl æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
- æ£€æŸ¥æ–‡ä»¶å¤§å°é™åˆ¶

## 8. æœªæ¥è§„åˆ’

### 8.1 Agent æ¨¡å¼

è®¡åˆ’æ”¯æŒ AI Agent æ¨¡å¼ï¼Œå…è®¸ AI è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡ï¼š
- è‡ªåŠ¨åˆ†ææ—¥å¿—
- è‡ªåŠ¨æ‰§è¡Œæµ‹è¯•
- è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š

### 8.2 æ›´å¤š AI æä¾›å•†

è®¡åˆ’æ”¯æŒæ›´å¤š AI æœåŠ¡ï¼š
- Claude
- æœ¬åœ°æ¨¡å‹
- è‡ªå®šä¹‰ API
